{"version":3,"sources":["backend.coffee"],"names":[],"mappings":"AAAA;EAAA,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,MAAO,CAAA,cAAA,CAAxB,GAA0C,CAAA,CAAE,YAAF,CAAe,CAAC,IAAhB,CAAqB,OAArB;;EACtC,IAAA,GAAA,CACA;IAAA,EAAA,EAAI,SAAJ;IAEA,IAAA,EACI;MAAA,QAAA,EACI;QAAA,QAAA,EAAU,EAAV;QACA,QAAA,EAAU,EADV;QAEA,cAAA,EAAgB,EAFhB;OADJ;MAKA,SAAA,EAAW,KALX;MAMA,aAAA,EAAe,KANf;KAHJ;IAWA,QAAA,EACI;MAAA,MAAA,EAAQ,SAAA;AACJ,YAAA;AAAA,aAAA,oBAAA;UACI,IAAA,CAAO,IAAC,CAAA,QAAS,CAAA,GAAA,CAAjB;AACI,mBAAO,KADX;;AADJ;AAGA,eAAO;MAJH,CAAR;KAZJ;IAkBA,KAAA,EAAO,SAAA;aACH,IAAC,CAAA,UAAD,CAAA;IADG,CAlBP;IAqBA,OAAA,EACI;MAAA,UAAA,EAAY,SAAA;eACR,IAAC,CAAA,KAAK,CAAC,GAAP,CAAW,OAAX,EAAoB,SAAC,MAAD;iBAChB,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,MAAhB;QADgB,CAApB;MADQ,CAAZ;MAIA,YAAA,EAAc,SAAC,CAAD;AACV,YAAA;QAAA,CAAC,CAAC,cAAF,CAAA;QACA,KAAA,GAAQ,IAAC,CAAA;QAET,IAAG,KAAK,CAAC,QAAN,KAAkB,KAAK,CAAC,cAA3B;UAEI,IAAC,CAAA,MAAM,CAAC,IAAR,CAAa,KAAb;UAEA,IAAC,CAAA,QAAD,GACI;YAAA,IAAA,EAAM,EAAN;YACA,QAAA,EAAU,EADV;YAEA,cAAA,EAAgB,EAFhB;;UAIJ,IAAC,CAAA,KAAK,CAAC,IAAP,CAAY,cAAZ,EAA4B,KAA5B;UAEA,IAAC,CAAA,SAAD,GAAa;iBACb,IAAC,CAAA,aAAD,GAAiB,MAZrB;SAAA,MAAA;iBAcI,IAAC,CAAA,aAAD,GAAiB,KAdrB;;MAJU,CAJd;MAwBA,YAAA,EAAc,SAAC,CAAD;AACV,YAAA;QAAA,CAAC,CAAC,cAAF,CAAA;QACA,EAAA,GAAK,CAAA,CAAE,cAAF,CAAiB,CAAC,GAAlB,CAAA;QACL,OAAO,CAAC,GAAR,CAAY,EAAZ;eACA,IAAC,CAAA,KAAK,CAAC,IAAP,CAAY,cAAZ,EACI;UAAA,IAAA,EAAM,EAAN;SADJ;MAJU,CAxBd;KAtBJ;GADA;AADJ","file":"backend.js","sourceRoot":"/source/","sourcesContent":["Vue.http.headers.common['X-CSRF-TOKEN'] = $('#CSRFtoken').attr('value')\nnew Vue\n    el: '#admins'\n\n    data:\n        newAdmin:\n            username: ''\n            password: ''\n            password_again: ''\n\n        submitted: false\n        passwordError: false\n\n    computed:\n        errors: ->\n            for key of @newAdmin\n                unless @newAdmin[key]\n                    return true\n            return false\n\n    ready: ->\n        @fetchUsers()\n\n    methods:\n        fetchUsers: ->\n            @$http.get '/user', (admins) ->\n                @$set('admins', admins)\n\n        onSubmitForm: (e) ->\n            e.preventDefault()\n            admin = @newAdmin\n\n            if admin.password is admin.password_again\n                # update admins list\n                @admins.push admin\n                # reset inputs of form\n                @newAdmin = \n                    name: ''\n                    password: ''\n                    password_again: ''\n                # send POST ajax request\n                @$http.post '/user/create', admin\n                # show success message\n                @submitted = true\n                @passwordError = false\n            else\n                @passwordError = true\n\n        onDeleteForm: (e) ->\n            e.preventDefault()\n            id = $('input#userId').val()\n            console.log id\n            @$http.post '/user/delete',\n                'id': id"]}